Здравствуйте, меня зовут Дарья. Данный проект - моя реализация Android-приложения для проигрывания видео.

Описание:
1) Язык программирования - Kotlin. Верстка - Compose;
2) DI - Dagger-Hilt. Все provide-функции разбиты по модулям для оптимизации время запуска;
3) Подход "Чистая архмтектура", архитектура MVI. Вся логика проекта поделена на три слоя: presentation, domain, data. Для отслеживания состояния реализован класс
StateVideo, для реализации отслеживания действий пользователя - класс VideoAction. Вся логика обработки изменений этих объектов проиходит в кастомной VideoViewModel;
4) Для реализации получения данных из сети использована библиотека Retrofit2. Для удобства обработки результата разработан кастомный класс Result<T, E>, котрый
содержит методы по обработке и преобразования данных. Также отдельно есть функция ResponseToresult для преобразования возвращаемого Retrofit2-класса Response к
базису приложения. Для корректной обработки ошибок, приходящих из data-слоя в слой Ui разработаны кастомные классы ошибок, наследующихся от общего интерфейса Error.
Так для отлова ошибок, призодящих из сети, разработан enum NetworkError;
5) Для релаизации кэшировнаия данных используется Room;
6) Для корректной работы отдельной разработана модель-dto Video для сериализации JSON и модель-Entity VideoEntity для имитации таблицы в базе данных. Для отображения
видео в presentation-слое разработана отдельная модель VideoUi. Для преобразования data-модели в presentation-модель написаны VideoMapper и VideoEntityMapper;
7) Для реализации многопоточности используются Coroutines и подписка на Flow. Вызов корутин происходит во ViewModel в отдельных методах, где аккуратно подменивается
диспатчер на Dispatchers.IO. Также ViewModel содержит ссылку на Job и в случае необходимости отменяет операцию, если старая корутина не успела выполнится до начала новой;
8) Для обработки ошибок на UI слое используется функция ObserveAsEvents, которая работает с горячим потоком. Кастомные VideoListEvents отправляются во ViewModel
в случае происхождения ошибки;
9) Все методы для походов в сеть и базу данных находятся в реализации интерфейса репозитория VideoRepositoryImpl, который также находится в data-слое. Для
связи presentation-слоя и data-слоя используется класс UseCases, который находится в domain-слое и инжектится во ViewModel и включает в себя набор Use-кейсов,
каждый из которых наследуется от функционального интерфейса и реализует одно из действий;
10) Для реализации проигрывания видео используется стандартный ExoPlayer. Для создания обработчика намерений переключения видео, паузы и продолжения используется создание
плейлиста, а также Player.Listener;
11) Навигация реализцется с помощью NavConroller;
12) Для реализации ScrollLayout используется SwipeRefresh, где в случае обновления экрана добавлен обработчик: вызов метода ViewModel;
13) На экране отдельного видео есть две кнопки: скачать и удалить видео, которые иметируют кэширование и удаление из кэша данных.
14) Все константы вынесены отдельно либо в строковые ресурсы, либоо в Object Utils, константы для Retrofit вынесены в BuildConfig;


Хочется отдельно отметить, что возникла проблема с выбором Api. Сначала я подлючила YouTube Api, добавила токен в BuildConfig, реализовала запросы, однако позже
выяснилось, что ExoPlayer не работает с таким видом ссылок на медиа-файл, который предоставляет YouTube Api. Встала проблема, что делать в этом случае. Я нашла YouTubePlayer,
который, как я поняла, просто обертка над ExoPlayer, однако я не стала его использовать, так как в критериях было указано "использование стандартного плэйера".
Второй вариант, который я нашла: написать свою обертку с помощью бибилиотеки ytExtractor, однако я не нашла никакой официальной документации по работе с ней, да и, в целом,
не нашла почти никакой документации. Библиотека не хотела корректно работать, поэтому пришлось от этой идеи тоже отказаться. В результате - приложение работает
просто с замоканными данными для Unit-тестов, потому что больше альтернативы не было, однако я попыталась максимально симетировать работу с реальным API.




